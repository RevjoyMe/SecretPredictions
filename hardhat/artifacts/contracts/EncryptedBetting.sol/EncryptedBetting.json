{
  "_format": "hh-sol-artifact-1",
  "contractName": "EncryptedBetting",
  "sourceName": "contracts/EncryptedBetting.sol",
  "abi": [
    {
      "inputs": [],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "marketId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "EncryptedBetPlaced",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "marketId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "timestamp",
          "type": "uint256"
        }
      ],
      "name": "PositionUpdated",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "authorizedCallers",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "marketId",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "internalType": "bool",
          "name": "finalOutcome",
          "type": "bool"
        }
      ],
      "name": "calculatePayout",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "payout",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "marketId",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "emergencyDecryptPosition",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "yesAmount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "noAmount",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "betCount",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "marketId",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "getEncryptedPosition",
      "outputs": [
        {
          "components": [
            {
              "internalType": "euint64",
              "name": "yesAmount",
              "type": "uint256"
            },
            {
              "internalType": "euint64",
              "name": "noAmount",
              "type": "uint256"
            },
            {
              "internalType": "euint32",
              "name": "betCount",
              "type": "uint256"
            },
            {
              "internalType": "ebool",
              "name": "hasPosition",
              "type": "uint256"
            },
            {
              "internalType": "ebool",
              "name": "hasClaimed",
              "type": "uint256"
            }
          ],
          "internalType": "struct EncryptedBetting.EncryptedPosition",
          "name": "position",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "marketId",
          "type": "uint256"
        }
      ],
      "name": "getMarketStats",
      "outputs": [
        {
          "internalType": "euint64",
          "name": "totalYesPool",
          "type": "uint256"
        },
        {
          "internalType": "euint64",
          "name": "totalNoPool",
          "type": "uint256"
        },
        {
          "internalType": "euint32",
          "name": "totalBetters",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "marketId",
          "type": "uint256"
        }
      ],
      "name": "getOddsData",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "yesRatio",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "noRatio",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "marketId",
          "type": "uint256"
        }
      ],
      "name": "getPoolSizes",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "yesPool",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "noPool",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "marketId",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "getUserTotalBet",
      "outputs": [
        {
          "internalType": "euint64",
          "name": "totalAmount",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "marketId",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "hasPosition",
      "outputs": [
        {
          "internalType": "ebool",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "marketId",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        }
      ],
      "name": "markClaimed",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "owner",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "predictionMarket",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "caller",
          "type": "address"
        },
        {
          "internalType": "bool",
          "name": "authorized",
          "type": "bool"
        }
      ],
      "name": "setAuthorizedCaller",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "_predictionMarket",
          "type": "address"
        }
      ],
      "name": "setPredictionMarket",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "marketId",
          "type": "uint256"
        },
        {
          "internalType": "address",
          "name": "user",
          "type": "address"
        },
        {
          "internalType": "euint64",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "ebool",
          "name": "outcome",
          "type": "uint256"
        }
      ],
      "name": "updatePosition",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x60a080604052346100385733608052610a24908161003d823960805181818161017d015281816103230152818161057601526107e80152f35b5f80fdfe604060808152600480361015610013575f80fd5b5f3560e01c90816303b88ba2146107c0578163229be1521461076f5781632430719b146105e15781632d6f5010146105b8578163454bbd291461053f578163536fff6c1461050357816353dd2c7d146103ff57816358057fe5146103c357816366adc53e1461037e578163778a9d8e146102f757816377ab1d481461029257816387c8e2d6146101a15781638da5cb5b1461015e578163d5dfa74a146100ec575063def114b6146100c2575f80fd5b346100e8575f3660031901126100e8576020906001600160a01b03600254169051908152f35b5f80fd5b9050346100e857816003193601126100e857600191610109610853565b6001600160a01b03806002541633148015610145575b610128906108b4565b83355f525f6020526003835f200191165f526020525f2001555f80f35b50335f528460205261012860ff845f205416905061011f565b82346100e8575f3660031901126100e857602090516001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000168152f35b82346100e85760603660031901126100e8576101bb610853565b916044359081151582036100e8576020936001600160a01b0380600254163314801561027c575b6101eb906108b4565b82355f525f86526003855f200191165f528452825f20915f14610271578154915b0154811561026357600160ff61022282936109de565b9216149081610258575b501561024e57600160ff815b160361024657905b51908152f35b505f90610240565b600160ff5f610238565b60019150148461022c565b600160ff6102225f936109de565b60018201549161020c565b50335f908152600187528590205460ff166101e2565b9050346100e85760203660031901126100e8576001600160a01b0360025416331480156102e0575b6102c3906108b4565b355f525f602052805f206001815491015482519182526020820152f35b50335f90815260016020528290205460ff166102ba565b82346100e857806003193601126100e857606091610313610853565b906001600160a01b039061034a827f0000000000000000000000000000000000000000000000000000000000000000163314610869565b355f525f6020526003835f200191165f52602052805f20805491600260018301549201549181519384526020840152820152f35b82346100e857806003193601126100e85760209161039a610853565b90355f525f83526001600160a01b036003835f200191165f5282526003815f2001549051908152f35b82346100e85760203660031901126100e857606091355f525f602052805f20805491600260018301549201549181519384526020840152820152f35b9050346100e857816003193601126100e857610419610853565b906001600160a01b0361042a6109aa565b925f84525f6080602095828782015282888201528260608201520152168033036104c1579260a09382355f525f84526003825f2001905f528352805f20906104706109aa565b92825494858552600184015481860190815260806002860154938588019485526003870154966060890197885201549601958652835196875251908601525190840152516060830152516080820152f35b5090606492519162461bcd60e51b8352820152601a60248201527f43616e206f6e6c792076696577206f776e20706f736974696f6e0000000000006044820152fd5b82346100e85760203660031901126100e8576020906001600160a01b0361052861083d565b165f526001825260ff815f20541690519015158152f35b82346100e857806003193601126100e85761055861083d565b90602435918215158093036100e8576001600160a01b039061059d827f0000000000000000000000000000000000000000000000000000000000000000163314610869565b165f5260016020525f209060ff801983541691161790555f80f35b9050346100e85760203660031901126100e8576105d5903561093e565b82519182526020820152f35b82346100e85760803660031901126100e8578135906105fe610853565b604435936001600160a01b03806002541633148015610758575b610621906108b4565b845f525f602052835f20921694855f5260038301602052835f20600381019161064a83546109de565b92600283018054906001968783018093116107455750869491938560209997947fee83befd4dea1d6d92c76e834aa1031f1bba673e1a7a216beaa9b35e2272ae369b99966106d0945581806064351493845f1461073e5780945b1561073857505f955b6106b88582546108ff565b8155016106c68682546108ff565b90555586546108ff565b85556106e08386019182546108ff565b90550361072b5760026106f891925b019182546108ff565b905584847f8ac3dc33a8bb612eb5a834fc22070275ffed7e27716bd3d68d01f0a930085c10848451428152a351428152a3005b506106f860025f926106ef565b956106ad565b5f946106a4565b601190634e487b7160e01b5f525260245ffd5b50335f90815260016020528490205460ff16610618565b82346100e857806003193601126100e85760209161078b610853565b90355f525f83526001600160a01b036003835f200191165f5282526107b9815f2060018154910154906108ff565b9051908152f35b346100e85760203660031901126100e8576107d961083d565b6001600160a01b039061080f827f0000000000000000000000000000000000000000000000000000000000000000163314610869565b167fffffffffffffffffffffffff000000000000000000000000000000000000000060025416176002555f80f35b600435906001600160a01b03821682036100e857565b602435906001600160a01b03821682036100e857565b1561087057565b606460405162461bcd60e51b815260206004820152600960248201527f4e6f74206f776e657200000000000000000000000000000000000000000000006044820152fd5b156108bb57565b606460405162461bcd60e51b815260206004820152600e60248201527f4e6f7420617574686f72697a65640000000000000000000000000000000000006044820152fd5b9190820180921161090c57565b634e487b7160e01b5f52601160045260245ffd5b811561092a570490565b634e487b7160e01b5f52601260045260245ffd5b5f525f60205260405f20906001825492015461095a81846108ff565b92831561099e5760648102908082046064149015171561090c578361097e91610920565b9260648202918083046064149015171561090c5761099b91610920565b90565b50509050603290603290565b6040519060a0820182811067ffffffffffffffff8211176109ca57604052565b634e487b7160e01b5f52604160045260245ffd5b6001036109e9575f90565b60019056fea2646970667358221220594e9a8376cd796ca294be8a7b693fcbc49027396109b7f66d0e68751dbcbbbb64736f6c63430008180033",
  "deployedBytecode": "0x604060808152600480361015610013575f80fd5b5f3560e01c90816303b88ba2146107c0578163229be1521461076f5781632430719b146105e15781632d6f5010146105b8578163454bbd291461053f578163536fff6c1461050357816353dd2c7d146103ff57816358057fe5146103c357816366adc53e1461037e578163778a9d8e146102f757816377ab1d481461029257816387c8e2d6146101a15781638da5cb5b1461015e578163d5dfa74a146100ec575063def114b6146100c2575f80fd5b346100e8575f3660031901126100e8576020906001600160a01b03600254169051908152f35b5f80fd5b9050346100e857816003193601126100e857600191610109610853565b6001600160a01b03806002541633148015610145575b610128906108b4565b83355f525f6020526003835f200191165f526020525f2001555f80f35b50335f528460205261012860ff845f205416905061011f565b82346100e8575f3660031901126100e857602090516001600160a01b037f0000000000000000000000000000000000000000000000000000000000000000168152f35b82346100e85760603660031901126100e8576101bb610853565b916044359081151582036100e8576020936001600160a01b0380600254163314801561027c575b6101eb906108b4565b82355f525f86526003855f200191165f528452825f20915f14610271578154915b0154811561026357600160ff61022282936109de565b9216149081610258575b501561024e57600160ff815b160361024657905b51908152f35b505f90610240565b600160ff5f610238565b60019150148461022c565b600160ff6102225f936109de565b60018201549161020c565b50335f908152600187528590205460ff166101e2565b9050346100e85760203660031901126100e8576001600160a01b0360025416331480156102e0575b6102c3906108b4565b355f525f602052805f206001815491015482519182526020820152f35b50335f90815260016020528290205460ff166102ba565b82346100e857806003193601126100e857606091610313610853565b906001600160a01b039061034a827f0000000000000000000000000000000000000000000000000000000000000000163314610869565b355f525f6020526003835f200191165f52602052805f20805491600260018301549201549181519384526020840152820152f35b82346100e857806003193601126100e85760209161039a610853565b90355f525f83526001600160a01b036003835f200191165f5282526003815f2001549051908152f35b82346100e85760203660031901126100e857606091355f525f602052805f20805491600260018301549201549181519384526020840152820152f35b9050346100e857816003193601126100e857610419610853565b906001600160a01b0361042a6109aa565b925f84525f6080602095828782015282888201528260608201520152168033036104c1579260a09382355f525f84526003825f2001905f528352805f20906104706109aa565b92825494858552600184015481860190815260806002860154938588019485526003870154966060890197885201549601958652835196875251908601525190840152516060830152516080820152f35b5090606492519162461bcd60e51b8352820152601a60248201527f43616e206f6e6c792076696577206f776e20706f736974696f6e0000000000006044820152fd5b82346100e85760203660031901126100e8576020906001600160a01b0361052861083d565b165f526001825260ff815f20541690519015158152f35b82346100e857806003193601126100e85761055861083d565b90602435918215158093036100e8576001600160a01b039061059d827f0000000000000000000000000000000000000000000000000000000000000000163314610869565b165f5260016020525f209060ff801983541691161790555f80f35b9050346100e85760203660031901126100e8576105d5903561093e565b82519182526020820152f35b82346100e85760803660031901126100e8578135906105fe610853565b604435936001600160a01b03806002541633148015610758575b610621906108b4565b845f525f602052835f20921694855f5260038301602052835f20600381019161064a83546109de565b92600283018054906001968783018093116107455750869491938560209997947fee83befd4dea1d6d92c76e834aa1031f1bba673e1a7a216beaa9b35e2272ae369b99966106d0945581806064351493845f1461073e5780945b1561073857505f955b6106b88582546108ff565b8155016106c68682546108ff565b90555586546108ff565b85556106e08386019182546108ff565b90550361072b5760026106f891925b019182546108ff565b905584847f8ac3dc33a8bb612eb5a834fc22070275ffed7e27716bd3d68d01f0a930085c10848451428152a351428152a3005b506106f860025f926106ef565b956106ad565b5f946106a4565b601190634e487b7160e01b5f525260245ffd5b50335f90815260016020528490205460ff16610618565b82346100e857806003193601126100e85760209161078b610853565b90355f525f83526001600160a01b036003835f200191165f5282526107b9815f2060018154910154906108ff565b9051908152f35b346100e85760203660031901126100e8576107d961083d565b6001600160a01b039061080f827f0000000000000000000000000000000000000000000000000000000000000000163314610869565b167fffffffffffffffffffffffff000000000000000000000000000000000000000060025416176002555f80f35b600435906001600160a01b03821682036100e857565b602435906001600160a01b03821682036100e857565b1561087057565b606460405162461bcd60e51b815260206004820152600960248201527f4e6f74206f776e657200000000000000000000000000000000000000000000006044820152fd5b156108bb57565b606460405162461bcd60e51b815260206004820152600e60248201527f4e6f7420617574686f72697a65640000000000000000000000000000000000006044820152fd5b9190820180921161090c57565b634e487b7160e01b5f52601160045260245ffd5b811561092a570490565b634e487b7160e01b5f52601260045260245ffd5b5f525f60205260405f20906001825492015461095a81846108ff565b92831561099e5760648102908082046064149015171561090c578361097e91610920565b9260648202918083046064149015171561090c5761099b91610920565b90565b50509050603290603290565b6040519060a0820182811067ffffffffffffffff8211176109ca57604052565b634e487b7160e01b5f52604160045260245ffd5b6001036109e9575f90565b60019056fea2646970667358221220594e9a8376cd796ca294be8a7b693fcbc49027396109b7f66d0e68751dbcbbbb64736f6c63430008180033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
